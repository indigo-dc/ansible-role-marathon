---

# Zookeeper variable
zookeeper_client_port: "2181"
zookeeper_server_group: zookeeper_servers

zookeeper_peers_nodes: "
	{%- if zookeeper_peers is defined -%}
            {% for host in zookeeper_peers %}{{host}}:{{zookeeper_client_port}}{% if not loop.last %},{% endif %}{% endfor %}
	{%- else -%}
            {%- for host in groups[zookeeper_server_group] -%}{{hostvars[host]['ansible_default_ipv4']['address']}}:{{zookeeper_client_port}}{% if not loop.last %},{% endif %}{% endfor %} 
	{%- endif -%}
"

# defaults file for marathon
marathon_version: '1.8.244'
marathon_hostname: "{{ ansible_default_ipv4.address }}"
marathon_framework_name: "marathon"
marathon_server_zk_group: marathon_servers
marathon_image: "marica/marathon:{{ marathon_version }}"
marathon_master_peers: "zk://{{ zookeeper_peers_nodes }}/mesos"
marathon_zk_peers: "zk://{{ zookeeper_peers_nodes }}"
marathon_libprocess_ip: "{{ ansible_default_ipv4.address }}"

openssl_self_signed:
  name: "{{ marathon_hostname }}" 
  country: "" 
  state: "" 
  city: ""
  organization: "" 
  unit: "" 
  email: "" 

marathon_enable_ssl: True
marathon_enable_external_volumes: False 
marathon_enable_gpu_support: False
marathon_enable_features: []
marathon_key_password: "hCBWfORMLs6A"
marathon_pkcs_password: "MLD6eQnjIVhj"
marathon_jks_password: "ZpUEGgvzQhpo"
marathon_username: "admin"
#marathon_password: "secr3t" --> MANDATORY PARAM
marathon_https_port: '8443'
marathon_http_port: '8080'
marathon_keystore_path: '/etc/marathon/ssl_keystore.jks'
marathon_ssl_cert_file: "{% if marathon_ssl_cert_gen == 'letsencrypt' %}/etc/letsencrypt/live/{{marathon_dns_name}}/fullchain.pem{% else %}/etc/marathon/server.crt{% endif %}" 
marathon_ssl_key_file: "{% if marathon_ssl_cert_gen == 'letsencrypt' %}/etc/letsencrypt/live/{{marathon_dns_name}}/privkey.pem{% else %}/etc/marathon/server.key{% endif %}"        
marathon_ssl_csr_file: /etc/marathon/server.csr
#marathon_ssl_cert_gen - allowed-values = self_signed, letsencrypt, none
marathon_ssl_cert_gen: self_signed
# marathon_dns_name is used only for letsencrypt cert generation
marathon_dns_name: "{{ marathon_hostname }}"
marathon_certbot_admin_email:         
